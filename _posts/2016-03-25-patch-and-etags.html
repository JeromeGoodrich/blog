---
layout: post
title: Patch and Etags
date: 2016-03-25 15:35:53.000000000 -05:00
type: post
published: true
status: publish
categories: []
tags: []
meta:
  _rest_api_published: '1'
  _rest_api_client_id: "-1"
  _publicize_job_id: '21121135537'
author:
  login: jgoodrich7
  email: jeromegoodrich@gmail.com
  display_name: jgoodrich7
  first_name: ''
  last_name: ''
---
<p>The PATCH HTTP method allows for partial resource modification and was conceived due to the limitations of PUT, which only allows for the complete replacement of a resource. Compared to other HTTP methods, PATCH is relatively new; the document describing the method, RFC 5789, is dated March, 2010.</p>
<p>The difference, between PATCH and PUT :</p>
<blockquote><p>In a PUT request, the enclosed entity is considered to be a modified version of the resource stored on the origin server, and the client is requesting that the stored version be replaced. With PATCH, however, the enclosed entity contains a set of instructions describing how a resource currently residing on the origin server should be modified to produce a new version.</p></blockquote>
<p>PATCH is normally neither safe of idempotent. Meaning that a user is requesting a side-effect and should be aware of it, and that repeated PATCH requests will not have the same result as calling PATCH once. In contrast, a safe and idempotent method like GET will produce the same result no matter how many times it is called, and the user should not expect side-effects.</p>
<p>One of the cool things about PATCH is that while it is inherently <em>not</em> idempotent it can be issued in a way that it is, which helps the following scenario:</p>
<ol>
<li>Client A GETs a resource</li>
<li>Client B GETs the same resource</li>
<li>Client B updates the resource with a PATCH (beat Client A to the punch)</li>
<li>Client A doesn’t know about Client B’s update and overwrites it with a PATCH of its own</li>
</ol>
<p>It accomplishes this through the use of conditional requests, that will fail if the resource has been updated since the client last accessed the resource. Etags are just one of the validators that are used in conditional requests. Etags or entity-tags are a opaque quoted strings that may be prefixed by a weakness indicator. They "tag" the current version of a resource. So now in order for another user to update the resource they need provide the most current Etag. This is done by specifying a an "If-Match" header in the request.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
